!function(t,e){for(var n in e)t[n]=e[n]}(window,function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.IDENT_ALL="@all",t.IDENT_NONE="@none",t.IDENT_THIS="@this",t.IDENT_FORM="@form",t.P_PARTIAL_SOURCE="javax.faces.source",t.PARTIAL_ID="partialId",t.P_VIEWSTATE="javax.faces.ViewState",t.P_VIEWROOT="javax.faces.ViewRoot",t.P_VIEWHEAD="javax.faces.ViewHead",t.P_VIEWBODY="javax.faces.ViewBody",t.P_CLIENTWINDOW="javax.faces.ClientWindow",t.P_AJAX="javax.faces.partial.ajax",t.P_EXECUTE="javax.faces.partial.execute",t.P_RENDER="javax.faces.partial.render",t.P_EVT="javax.faces.partial.event",t.P_CLIENT_WINDOW="javax.faces.ClientWindow",t.P_RESET_VALUES="javax.faces.partial.resetValues",t.P_WIN_ID="javax.faces.WindowId",t.P_WINDOW_ID="javax.faces.windowId",t.ERROR="error",t.EVENT="event",t.ON_ERROR="onerror",t.ON_EVENT="onevent",t.BEGIN="begin",t.COMPLETE="complete",t.SUCCESS="success",t.SOURCE="source",t.STATUS="status",t.ERROR_NAME="error-name",t.ERROR_MESSAGE="error-message",t.RESPONSE_TEXT="responseText",t.RESPONSE_XML="responseXML",t.HTTPERROR="httpError",t.EMPTY_RESPONSE="emptyResponse",t.MALFORMEDXML="malformedXML",t.SERVER_ERROR="serverError",t.CLIENT_ERROR="clientError",t.TIMEOUT_EVENT="timeout",t.CTX_PARAM_MF_INTERNAL="_mfInternal",t.CTX_PARAM_SRC_FRM_ID="_mfSourceFormId",t.CTX_PARAM_SRC_CTL_ID="_mfSourceControlId",t.CTX_PARAM_TR_TYPE="_mfTransportType",t.CTX_PARAM_PASS_THR="passThrgh",t.CTX_PARAM_DELAY="delay",t.CTX_PARAM_TIMEOUT="timeout",t.CTX_PARAM_RST="resetValues",t.CTX_PARAM_EXECUTE="execute",t.STAGE_DEVELOPMENT="Development",t.CONTENT_TYPE="Content-Type",t.HEAD_FACES_REQ="Faces-Request",t.REQ_ACCEPT="Accept",t.VAL_AJAX="partial/ajax",t.ENCODED_URL="javax.faces.encodedURL",t.REQ_TYPE_GET="GET",t.REQ_TYPE_POST="POST",t.STATE_EVT_BEGIN="begin",t.STATE_EVT_TIMEOUT="TIMEOUT_EVENT",t.STATE_EVT_COMPLETE="complete",t.URL_ENCODED="application/x-www-form-urlencoded",t.MULTIPART="multipart/form-data",t.NO_TIMEOUT=0,t.STD_ACCEPT="text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",t.TAG_HEAD="head",t.TAG_FORM="form",t.TAG_BODY="body",t.TAG_BEFORE="before",t.TAG_AFTER="after",t.TAG_ATTR="attribute",t.SEL_VIEWSTATE_ELEM="[name='"+t.P_VIEWSTATE+"']",t.SEL_RESPONSE_XML="responseXML",t.PHASE_PROCESS_RESPONSE="processResponse",t.ERR_NO_PARTIAL_RESPONSE="Partial response not set",t.ATTR_URL="url",t.ATTR_NAME="name",t.ATTR_VALUE="value",t.ATTR_ID="id",t.RESP_PARTIAL="partial-response",t.RESP_TYPE_ERROR="error",t.RESP_TYPE_REDIRECT="redirect",t.RESP_TYPE_CHANGES="changes",t.CMD_CHANGES="changes",t.CMD_UPDATE="update",t.CMD_DELETE="delete",t.CMD_INSERT="insert",t.CMD_EVAL="eval",t.CMD_ERROR="error",t.CMD_ATTRIBUTES="attributes",t.CMD_EXTENSION="extension",t.CMD_REDIRECT="redirect",t.UPDATE_FORMS="_updateForms",t.UPDATE_ELEMS="_updateElems",t.MYFACES="myfaces",t.SEL_SCRIPTS_STYLES="script, style, link",t.MF_NONE="__mf_none__",t.REASON_EXPIRED="Expired",t.APPLIED_VST="appliedViewState",t.RECONNECT_INTERVAL=500,t.MAX_RECONNECT_ATTEMPTS=25,t.HTML_VIEWSTATE=["<input type='hidden'","id='",t.P_VIEWSTATE,"' name='",t.P_VIEWSTATE,"' value='' />"].join(""),t.EMPTY_FUNC=Object.freeze((function(){})),t.EMPTY_STR="",t.EMPTY_MAP=Object.freeze({})}(e.Const||(e.Const={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.DomQuery=r.DomQuery,e.ElementAttribute=r.ElementAttribute,e.DomQueryCollector=r.DomQueryCollector,e.DQ=r.DQ;var o=n(5);e.Lang=o.Lang;var i=n(3);e.Config=i.Config,e.Monad=i.Monad,e.Optional=i.Optional,e.ValueEmbedder=i.ValueEmbedder;var s=n(16);e.XMLQuery=s.XMLQuery,e.XQ=s.XQ;var a=n(6);e.Stream=a.Stream,e.LazyStream=a.LazyStream;var u=n(7);e.ArrayStreamDataSource=u.ArrayStreamDataSource,e.MappedStreamDataSource=u.MappedStreamDataSource,e.FilteredStreamDatasource=u.FilteredStreamDatasource,e.FlatMapStreamDataSource=u.FlatMapStreamDataSource,e.QueryFormStringCollector=u.QueryFormStringCollector,e.ArrayCollector=u.ArrayCollector,e.AssocArrayCollector=u.AssocArrayCollector,e.FormDataCollector=u.FormDataCollector,e.QueryFormDataCollector=u.QueryFormDataCollector},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),a=n(6),u=n(5),l=u.Lang.trim,c=u.Lang.objToArray,f=u.Lang.isString,p=u.Lang.equalsIgnoreCase,h=function(t){function e(e,n,r){void 0===r&&(r=null);var o=t.call(this,e,n)||this;return o.element=e,o.name=n,o.defaultVal=r,o}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){var t,e=(t=this.element.get(0)).orElse.apply(t,[]).values;return e.length?e[0].getAttribute(this.name):this.defaultVal},set:function(t){for(var e,n=(e=this.element.get(0)).orElse.apply(e,[]).values,r=0;r<n.length;r++)n[r].setAttribute(this.name,t);n[0].setAttribute(this.name,t)},enumerable:!0,configurable:!0}),e.prototype.getClass=function(){return e},e.fromNullable=function(t,n){return void 0===n&&(n="value"),new e(t,n)},e}(s.ValueEmbedder);e.ElementAttribute=h;var v=function(t){return-1==t.indexOf("ln=scripts")&&-1==t.indexOf("ln=javax.faces")||-1==t.indexOf("/jsf.js")&&-1==t.indexOf("/jsf-uncompressed.js")},d=function(){function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(this.rootNode=[],this.pos=-1,this._limits=-1,!s.Optional.fromNullable(n).isAbsent()&&n.length)for(var o=0;o<n.length;o++)if(f(n[o])){var i=t.querySelectorAll(n[o]);i.isAbsent()||n.push.apply(n,i.values)}else n[o]instanceof t?(e=this.rootNode).push.apply(e,n[o].values):this.rootNode.push(n[o])}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getAsElem(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this.allElems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return new h(this.get(0),"id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.rootNode.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.getAsElem(0).getIf("tagName")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.getAsElem(0).getIf("nodeName")},enumerable:!0,configurable:!0}),t.prototype.isTag=function(t){return!this.isAbsent()&&(this.nodeName.orElse("__none___").value.toLowerCase()==t.toLowerCase()||this.tagName.orElse("__none___").value.toLowerCase()==t.toLowerCase())},Object.defineProperty(t.prototype,"type",{get:function(){return this.getAsElem(0).getIf("type")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return new s.ValueEmbedder(this.getAsElem(0).value,"name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputValue",{get:function(){return this.getAsElem(0).getIf("value").isPresent()?new s.ValueEmbedder(this.getAsElem(0).value):s.ValueEmbedder.absent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return a.Stream.of.apply(a.Stream,this.values).allMatch((function(t){return!!t.checked}))},set:function(t){this.eachElem((function(e){return e.checked=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){var t=this;return this.stream.flatMap((function(t){var e=t.value.value;return new a.Stream(e.elements?c(e.elements):[])})).filter((function(t){return!!t})).collect(new E).orElseLazy((function(){return t.querySelectorAll("input, select, textarea, fieldset")}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.attr("disabled").isPresent()},set:function(t){t?this.attr("disabled").value="disabled":this.removeAttribute("disabled")},enumerable:!0,configurable:!0}),t.prototype.removeAttribute=function(t){this.eachElem((function(e){return e.removeAttribute(t)}))},Object.defineProperty(t.prototype,"childNodes",{get:function(){var e=[];return this.eachElem((function(t){e=e.concat(c(t.childNodes))})),new(t.bind.apply(t,i([void 0],e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stream",{get:function(){return new(a.Stream.bind.apply(a.Stream,i([void 0],this.asArray)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyStream",{get:function(){return a.LazyStream.ofStreamDataSource(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asArray",{get:function(){var t=[];return this.each((function(e){t.push(e)})),t},enumerable:!0,configurable:!0}),t.querySelectorAll=function(e){return new t(document).querySelectorAll(e)},t.byId=function(e){return f(e)?new t(document).byId(e):new t(e)},t.byTagName=function(e){return f(e)?new t(document).byTagName(e):new t(e)},t.globalEval=function(e,n){return new t(document).globalEval(e,n)},t.fromMarkup=function(e){var n=document.implementation.createHTMLDocument(""),r=(e=l(e)).toLowerCase();if(-1!=r.indexOf("<!doctype")||-1!=r.indexOf("<html")||-1!=r.indexOf("<head")||-1!=r.indexOf("<body"))return n.documentElement.innerHTML=e,new t(n.documentElement);var o=function(t,e){var n=["<",e,">"].join(""),r=["<",e," "].join("");return 0==t.indexOf(n)||0==t.indexOf(r)},i=new t(document.createElement("div"));return o(r,"thead")||o(r,"tbody")?(i.html("<table>"+e+"</table>"),i.querySelectorAll("table").get(0).childNodes.detach()):o(r,"tfoot")?(i.html("<table><thead></thead><tbody><tbody"+e+"</table>"),i.querySelectorAll("table").get(2).childNodes.detach()):o(r,"tr")?(i.html("<table><tbody>"+e+"</tbody></table>"),i.querySelectorAll("tbody").get(0).childNodes.detach()):o(r,"td")?(i.html("<table><tbody><tr>"+e+"</tr></tbody></table>"),i.querySelectorAll("tr").get(0).childNodes.detach()):(i.html(e),i.childNodes.detach())},t.prototype.get=function(e){return e<this.rootNode.length?new t(this.rootNode[e]):t.absent},t.prototype.getAsElem=function(t,e){return void 0===e&&(e=s.Optional.absent),t<this.rootNode.length?s.Optional.fromNullable(this.rootNode[t]):e},t.prototype.allElems=function(){return this.rootNode},t.prototype.isAbsent=function(){return 0==this.length},t.prototype.isPresent=function(t){var e=this.isAbsent();return!e&&t&&t.call(this,this),!e},t.prototype.ifPresentLazy=function(t){return void 0===t&&(t=function(){}),this.isPresent.call(this,t),this},t.prototype.delete=function(){this.eachElem((function(t){t.parentNode&&t.parentNode.removeChild(t)}))},t.prototype.querySelectorAll=function(e){var n,r;if(!(null===(n=null===this||void 0===this?void 0:this.rootNode)||void 0===n?void 0:n.length))return this;for(var o=[],s=0;s<this.rootNode.length;s++)if(null===(r=this.rootNode[s])||void 0===r?void 0:r.querySelectorAll){var a=this.rootNode[s].querySelectorAll(e);o=o.concat(c(a))}return new(t.bind.apply(t,i([void 0],o)))},t.prototype.byId=function(e,n){for(var r,o=[],s=0;n&&s<this.rootNode.length;s++)(null===(r=this.rootNode[s])||void 0===r?void 0:r.id)==e&&o.push(new t(this.rootNode[s]));return o=o.concat(this.querySelectorAll('[id="'+e+'"]')),new(t.bind.apply(t,i([void 0],o)))},t.prototype.byTagName=function(e,n){for(var r,o=[],s=0;n&&s<this.rootNode.length;s++)(null===(r=this.rootNode[s])||void 0===r?void 0:r.tagName)==e&&o.push(new t(this.rootNode[s]));return o=o.concat(this.querySelectorAll(e)),new(t.bind.apply(t,i([void 0],o)))},t.prototype.attr=function(t,e){return void 0===e&&(e=null),new h(this,t,e)},t.prototype.hasClass=function(t){var e=!1;return this.each((function(n){var r=n.attr("class").value||"";if(-1!=r.toLowerCase().indexOf(t.toLowerCase())){for(var o=r.split(/\s+/gi),i=!1,s=0;s<o.length&&!i;s++)i=o[s].toLowerCase()==t.toLowerCase();return!(e=e||i)&&void 0}})),e},t.prototype.addClass=function(t){var e=this;return this.each((function(n){var r=n.attr("class").value||"";e.hasClass(t)||(n.attr("class").value=l(r+" "+t))})),this},t.prototype.removeClass=function(t){var e=this;return this.each((function(n){if(e.hasClass(t)){for(var r=[],o=(n.attr("class").value||"").split(/\s+/gi),i=0;i<o.length;i++)o[i].toLowerCase()!=t.toLowerCase()&&r.push(o[i]);n.attr("class").value=r.join(" ")}})),this},t.prototype.isMultipartCandidate=function(){return this.querySelectorAll("input[type='file']").firstElem().isPresent()},t.prototype.html=function(t){return s.Optional.fromNullable(t).isAbsent()?this.isPresent()?s.Optional.fromNullable(this.innerHtml):s.Optional.absent:(this.innerHtml=t,this)},Object.defineProperty(t.prototype,"innerHtml",{get:function(){var t=[];return this.eachElem((function(e){return t.push(e.innerHTML)})),t.join("")},set:function(t){this.eachElem((function(e){return e.innerHTML=t}))},enumerable:!0,configurable:!0}),t.prototype._mozMatchesSelector=function(t,e){var n=t;return(n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(e){for(var n=(document||window.ownerDocument).querySelectorAll(e),r=n.length;--r>=0&&n.item(r)!==t;);return r>-1}).call(t,e)},t.prototype.filterSelector=function(e){var n=this,r=[];return this.eachElem((function(t){n._mozMatchesSelector(t,e)&&r.push(t)})),new(t.bind.apply(t,i([void 0],r)))},t.prototype.matchesSelector=function(t){var e=this;return this.eachElem((function(n){if(!e._mozMatchesSelector(n,t))return!1})),!0},t.prototype.getIf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this.childNodes,r=0;r<t.length;r++)if((n=n.filterSelector(t[r])).isAbsent())return n;return n},t.prototype.eachElem=function(t){for(var e=0,n=this.rootNode.length;e<n&&!1!==t(this.rootNode[e],e);e++);return this},t.prototype.firstElem=function(t){return void 0===t&&(t=function(t){return t}),this.rootNode.length>1&&t(this.rootNode[0],0),this},t.prototype.each=function(e){return a.Stream.of.apply(a.Stream,this.rootNode).each((function(n,r){if(null!=n)return e(t.byId(n),r)})),this},t.prototype.first=function(t){return void 0===t&&(t=function(t){return t}),this.rootNode.length>=1?(t(this.get(0),0),this.get(0)):this},t.prototype.filter=function(e){var n=[];return this.each((function(t){e(t)&&n.push(t)})),new(t.bind.apply(t,i([void 0],n)))},t.prototype.globalEval=function(t,e){var n=document.getElementsByTagName("head")[0]||document.documentElement,r=document.createElement("script");e&&r.setAttribute("nonce",e),r.type="text/javascript",r.innerHTML=t;var o=n.appendChild(r);return n.removeChild(o),this},t.prototype.detach=function(){return this.eachElem((function(t){t.parentNode.removeChild(t)})),this},t.prototype.appendTo=function(t){this.eachElem((function(e){t.getAsElem(0).orElseLazy((function(){return{appendChild:function(t){}}})).value.appendChild(e)}))},t.prototype.loadScriptEval=function(t,e,n){var r=this;void 0===e&&(e=0),void 0===n&&(n="utf-8");var o=new XMLHttpRequest;return o.open("GET",t,!1),n&&o.setRequestHeader("Content-Type","application/x-javascript; charset:"+n),o.send(null),o.onload=function(n){e?setTimeout((function(){r.globalEval(o.responseText+"\r\n//@ sourceURL="+t)}),e):r.globalEval(o.responseText.replace("\n","\r\n")+"\r\n//@ sourceURL="+t)},o.onerror=function(t){throw Error(t)},this},t.prototype.insertAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.each((function(t){for(var n=t.getAsElem(0).value,r=n.parentNode,o=function(t){var o=n.nextSibling;e[t].eachElem((function(t){o?(r.insertBefore(t,o),n=o):r.appendChild(t)}))},i=0;i<e.length;i++)o(i)}));var r=[];return r.push(this),r=r.concat(e),new(t.bind.apply(t,i([void 0],r)))},t.prototype.insertBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.each((function(t){for(var n=t.getAsElem(0).value,r=n.parentNode,o=0;o<e.length;o++)e[o].eachElem((function(t){r.insertBefore(t,n)}))}));var r=[];return r.push(this),r=r.concat(e),new(t.bind.apply(t,i([void 0],r)))},t.prototype.orElse=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.isPresent()?this:new(t.bind.apply(t,i([void 0],e)))},t.prototype.orElseLazy=function(e){return this.isPresent()?this:new t(e())},t.prototype.parents=function(e){var n=new Set,r=[],o=e.toLowerCase(),s=function(t){(t.tagName||"").toLowerCase()!=o||n.has(t)||(n.add(t),r.push(t))};return this.eachElem((function(t){for(;t.parentNode;)if(t=t.parentNode,s(t),"form"==e&&r.length)return!1})),new(t.bind.apply(t,i([void 0],r)))},t.prototype.copyAttrs=function(t){var e=this;return t.eachElem((function(t){for(var n=0,r=c(t.attributes);n<r.length;n++){var o=r[n],i=o.value,s=o.name;switch(s){case"id":e.id.value=i;break;case"disabled":e.resolveAttributeHolder("disabled").disabled=i;break;case"checked":e.resolveAttributeHolder("checked").checked=i;break;default:e.attr(s).value=i}}})),this},t.prototype.resolveAttributeHolder=function(t){void 0===t&&(t="value");var e=[];return e[t]=null,t in this.getAsElem(0).value?this.getAsElem(0).value:e},t.prototype.outerHTML=function(e,n,r){var o,s;if(!this.isAbsent()){var a=null===(s=null===(o=document)||void 0===o?void 0:o.activeElement)||void 0===s?void 0:s.id,u=a?t.getCaretPosition(document.activeElement):null,l=t.fromMarkup(e),c=[],f=this.getAsElem(0).value,p=l.get(0),h=f.parentNode,v=p.getAsElem(0).value;if(h.replaceChild(v,f),c.push(new t(v)),this.isAbsent())return this;var d=[];l.length>1&&(d=d.concat.apply(d,l.values.slice(1)),c.push(t.byId(v).insertAfter(new(t.bind.apply(t,i([void 0],d)))))),n&&this.runScripts(),r&&this.runCss();var E=t.byId(a);return a&&E.isPresent()&&null!=u&&void 0!==u&&E.eachElem((function(e){return t.setCaretPosition(e,u)})),l}},t.prototype.runScripts=function(e){var n=this;void 0===e&&(e=v);var r=[],o=p,i=function(t){var i=t.tagName,s=t.type||"";if(i&&o(i,"script")&&(""===s||o(s,"text/javascript")||o(s,"javascript")||o(s,"text/ecmascript")||o(s,"ecmascript"))){var a=t.getAttribute("src");if(void 0!==a&&null!=a&&a.length>0)e(a)&&(r.length&&(n.globalEval(r.join("\n")),r=[]),n.loadScriptEval(a,0,"UTF-8"));else{for(var u=l(t.text||t.innerText||t.innerHTML),c=!0;c;)c=!1,"\x3c!--"==u.substring(0,4)&&(u=u.substring(4),c=!0),"//\x3c!--"==u.substring(0,4)&&(u=u.substring(6),c=!0),"//<![CDATA["==u.substring(0,11)&&(u=u.substring(11),c=!0);r.push(u)}}};try{new t(this.filterSelector("script"),this.querySelectorAll("script")).stream.flatMap((function(t){return a.Stream.of(t.values)})).sort((function(t,e){return t.compareDocumentPosition(e)-3})).each((function(t){return i(t)})),r.length&&this.globalEval(r.join("\n"))}catch(t){window.console&&window.console.error&&console.error(t.message||t.description)}finally{i=null}return this},t.prototype.runCss=function(){var e=function(t,e){var n,r,o,i,s,a=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(a);var u=null!=(n=a.sheet)?n:a.styleSheet;a.setAttribute("rel",null!=(r=t.getAttribute("rel"))?r:"stylesheet"),a.setAttribute("type",null!=(o=t.getAttribute("type"))?o:"text/css"),null!=(s=null===(i=u)||void 0===i?void 0:i.cssText)&&s?u.cssText=e:a.appendChild(document.createTextNode(e))};return new t(this.filterSelector("link, style"),this.querySelectorAll("link, style")).stream.flatMap((function(t){return a.Stream.of(t.values)})).sort((function(t,e){return t.compareDocumentPosition(e)-3})).each((function(t){return function(t){var n=t.tagName;if(n&&p(n,"link")&&p(t.getAttribute("type"),"text/css"))e(t,"@import url('"+t.getAttribute("href")+"');");else if(n&&p(n,"style")&&p(t.getAttribute("type"),"text/css")){var r=[],o=t.childNodes;if(o)for(var i=o.length,s=0;s<i;s++)r.push(o[s].innerHTML||o[s].data);else t.innerHTML&&r.push(t.innerHTML);e(t,r.join(""))}}(t)})),this},t.prototype.click=function(){return this.fireEvent("click"),this},t.prototype.addEventListener=function(t,e,n){return this.eachElem((function(r){r.addEventListener(t,e,n)})),this},t.prototype.removeEventListener=function(t,e,n){return this.eachElem((function(r){r.removeEventListener(t,e,n)})),this},t.prototype.fireEvent=function(t){this.eachElem((function(e){var n;if(e.ownerDocument)n=e.ownerDocument;else{if(9!=e.nodeType)throw new Error("Invalid node passed to fireEvent: "+e.id);n=e}if(e.dispatchEvent){var r="";switch(t){case"click":case"mousedown":case"mouseup":r="MouseEvents";break;case"focus":case"change":case"blur":case"select":r="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+t+"'."}var o=n.createEvent(r);o.initEvent(t,!0,!0),o.synthetic=!0,e.dispatchEvent(o)}else if(e.fireEvent){var i=n.createEventObject();i.synthetic=!0,e.fireEvent("on"+t,i)}}))},t.prototype.textContent=function(t){return void 0===t&&(t=""),this.stream.map((function(t){return t.getAsElem(0).orElseLazy((function(){return{textContent:""}})).value.textContent||""})).reduce((function(e,n){return e+t+n}),"").value},t.prototype.innerText=function(t){return void 0===t&&(t=""),this.stream.map((function(t){return t.getAsElem(0).orElseLazy((function(){return{innerText:""}})).value.innerText||""})).reduce((function(e,n){return[e,n].join(t)}),"").value},t.prototype.encodeFormElement=function(t){if(void 0===t&&(t=new s.Config({})),!this.name.isAbsent()){var e=t.shallowCopy;return this.each((function(t){if(!t.name.isAbsent()){var n=t.name.value,r=t.tagName.orElse("__none__").value.toLowerCase(),o=t.type.orElse("__none__").value.toLowerCase();if(o=o.toLowerCase(),("input"==r||"textarea"==r||"select"==r)&&null!=n&&""!=n&&!t.disabled){if("select"==r){var i=t.getAsElem(0).value;if(i.selectedIndex>=0)for(var s=i.options.length,a=0;a<s;a++)if(i.options[a].selected){var u=i.options[a];e.assign(n).value=null!=u.getAttribute("value")?u.value:u.text}}if("select"!=r&&"button"!=o&&"reset"!=o&&"submit"!=o&&"image"!=o&&("checkbox"!=o&&"radio"!=o||t.checked)){var l=t.value.files;l&&l.length?e.assign(n).value=l[0]:e.assign(n).value=t.inputValue.value}}}})),e}},Object.defineProperty(t.prototype,"cDATAAsString",{get:function(){return this.stream.flatMap((function(t){return t.childNodes.stream})).reduce((function(t,e){var n,r,o,i;return t.push(null!=(i=null===(o=null===(r=null===(n=e)||void 0===n?void 0:n.value)||void 0===r?void 0:r.value)||void 0===o?void 0:o.data)?i:""),t}),[]).value.join("")},enumerable:!0,configurable:!0}),t.prototype.subNodes=function(e,n){return s.Optional.fromNullable(n).isAbsent()&&(n=this.length),new(t.bind.apply(t,i([void 0],this.rootNode.slice(e,Math.min(n,this.length)))))},t.prototype.limits=function(t){return this._limits=t,this},t.prototype.hasNext=function(){var t=-1!=this._limits&&this.pos>=this._limits-1,e=this.pos>=this.values.length-1;return!(t||e)},t.prototype.next=function(){return this.hasNext()?(this.pos++,new t(this.values[this.pos])):null},t.prototype.reset=function(){this.pos=-1},t.getCaretPosition=function(t){var e,n=0;try{if(null===(e=document)||void 0===e?void 0:e.selection){t.focus();var r=document.selection.createRange();r.moveStart("character",-t.value.length),n=r.text.length}}catch(t){}return n},t.setCaretPosition=function(t,e){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()},t.absent=new t,t}();e.DomQuery=d;var E=function(){function t(){this.data=[]}return t.prototype.collect=function(t){this.data.push(t)},Object.defineProperty(t.prototype,"finalValue",{get:function(){return new(d.bind.apply(d,i([void 0],this.data)))},enumerable:!0,configurable:!0}),t}();e.DomQueryCollector=E,e.DQ=d},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),s=n(7),a=n(6),u=i.Lang.objAssign,l=function(){function t(t){this._value=t}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.map=function(e){return e||(e=function(t){return t}),new t(e(this.value))},t.prototype.flatMap=function(e){for(var n,r=this.map(e);(null===(n=r)||void 0===n?void 0:n.value)instanceof t;)r=r.value;return r},t}();e.Monad=l;var c=function(t){function e(e){return t.call(this,e)||this}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value instanceof l?this._value.flatMap().value:this._value},enumerable:!0,configurable:!0}),e.fromNullable=function(t){return new e(t)},e.prototype.isAbsent=function(){return void 0===this.value||null==this.value},e.prototype.isPresent=function(t){var e=this.isAbsent();return!e&&t&&t.call(this,this),!e},e.prototype.ifPresentLazy=function(t){return void 0===t&&(t=function(){}),this.isPresent.call(this,t),this},e.prototype.orElse=function(t){return this.isPresent()?this:null==t?e.absent:this.flatMap((function(){return t}))},e.prototype.orElseLazy=function(t){return this.isPresent()?this:this.flatMap(t)},e.prototype.flatMap=function(n){var r=t.prototype.flatMap.call(this,n);return r instanceof e?r.flatMap():e.fromNullable(r.value)},e.prototype.getIf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this,r=0;r<t.length;r++){var o=this.keyVal(t[r]),i=this.arrayIndex(t[r]);if(""===o&&i>=0){if((n=this.getClass().fromNullable(n.value instanceof Array?n.value.length<i?null:n.value[i]:null)).isAbsent())return n}else if(o&&i>=0){if(n.getIfPresent(o).isAbsent())return n;if((n=n.getIfPresent(o).value instanceof Array?this.getClass().fromNullable(n.getIfPresent(o).value[i]):this.getClass().absent).isAbsent())return n}else{if((n=n.getIfPresent(o)).isAbsent())return n;i>-1&&(n=this.getClass().fromNullable(n.value[i]))}}return n},e.prototype.match=function(t){return!this.isAbsent()&&t(this.value)},e.prototype.get=function(t){return void 0===t&&(t=e.absent),this.isAbsent()?this.getClass().fromNullable(t).flatMap():this.getClass().fromNullable(this.value).flatMap()},e.prototype.toJson=function(){return JSON.stringify(this.value)},e.prototype.getClass=function(){return e},e.prototype.arrayIndex=function(t){var e=t.indexOf("["),n=t.indexOf("]");return e>=0&&n>0&&e<n?parseInt(t.substring(e+1,n)):-1},e.prototype.keyVal=function(t){var e=t.indexOf("[");return e>=0?t.substring(0,e):t},e.prototype.getIfPresent=function(t){return this.isAbsent()?this.getClass().absent:this.getClass().fromNullable(this.value[t]).flatMap()},e.prototype.resolve=function(t){if(this.isAbsent())return e.absent;try{return e.fromNullable(t(this.value))}catch(t){return e.absent}},e.absent=e.fromNullable(null),e}(l);e.Optional=c;var f=function(t){function e(e,n){void 0===n&&(n="value");var r=t.call(this,e)||this;return r.key=n,r}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value?this._value[this.key]:null},set:function(t){this._value&&(this._value[this.key]=t)},enumerable:!0,configurable:!0}),e.prototype.orElse=function(t){var n={};return n[this.key]=t,this.isPresent()?this:new e(n,this.key)},e.prototype.orElseLazy=function(t){if(this.isPresent())return this;var n={};return n[this.key]=t(),new e(n,this.key)},e.prototype.getClass=function(){return e},e.fromNullable=function(t,n){return void 0===n&&(n="value"),new e(t,n)},e.absent=e.fromNullable(null),e}(c);e.ValueEmbedder=f;var p=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.arrPos=null!=r?r:-1,o}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return""==this.key&&this.arrPos>=0?this._value[this.arrPos]:this.key&&this.arrPos>=0?this._value[this.key][this.arrPos]:this._value[this.key]},set:function(t){""==this.key&&this.arrPos>=0?this._value[this.arrPos]=t:this.key&&this.arrPos>=0?this._value[this.key][this.arrPos]=t:this._value[this.key]=t},enumerable:!0,configurable:!0}),e.absent=e.fromNullable(null),e}(f),h=function(t){function e(e){return t.call(this,e)||this}return o(e,t),Object.defineProperty(e.prototype,"shallowCopy",{get:function(){return new e(a.Stream.ofAssoc(this.value).collect(new s.AssocArrayCollector))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deepCopy",{get:function(){return new e(u({},this.value))},enumerable:!0,configurable:!0}),e.fromNullable=function(t){return new e(t)},e.prototype.shallowMerge=function(t,e){for(var n in void 0===e&&(e=!0),t.value)!e&&n in this.value||(this.assign(n).value=t.getIf(n).value)},e.prototype.assign=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!(t.length<1)){this.buildPath(t);var n=this.keyVal(t[t.length-1]),r=this.arrayIndex(t[t.length-1]),o=new p(1==t.length?this.value:this.getIf.apply(this,t.slice(0,t.length-1)).value,n,r);return o}},e.prototype.assignIf=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t?this.assign.apply(this,e):{value:null}},e.prototype.getIf=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.getClass().fromNullable(t.prototype.getIf.apply(this,e).value)},e.prototype.get=function(e){return this.getClass().fromNullable(t.prototype.get.call(this,e).value)},e.prototype.delete=function(t){return t in this.value&&delete this.value[t],this},e.prototype.toJson=function(){return JSON.stringify(this.value)},e.prototype.getClass=function(){return e},e.prototype.setVal=function(t){this._value=t},e.prototype.buildPath=function(t){for(var e=this,n=this.getClass().fromNullable(null),r=-1,o=function(t,e){for(var n=t.length,r=n+e,o=n;o<r;o++)t.push({})},i=0;i<t.length;i++){var s=this.keyVal(t[i]),a=this.arrayIndex(t[i]);if(""===s&&a>=0)e.setVal(e.value instanceof Array?e.value:[]),o(e.value,a+1),r>=0&&(n.value[r]=e.value),n=e,r=a,e=this.getClass().fromNullable(e.value[a]);else{var u=e.getIf(s);if(-1==a)u.isAbsent()?u=this.getClass().fromNullable(e.value[s]={}):e=u;else{var l=u.value instanceof Array?u.value:[];o(l,a+1),e.value[s]=l,u=this.getClass().fromNullable(l[a])}n=e,r=a,e=u}}return this},e}(c);e.Config=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(18),i=n(2),s=n(1);!function(t){var e,n="impl/util/Lang/";function a(t,n){for(var r,i,a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];var l=null!=(i=null!=(r=(e=null!=e?e:new o.Messages)[t])?r:n)?i:t+" - undefined message";return s.Stream.of.apply(s.Stream,a).each((function(t,e){l=l.replace(new RegExp(["\\{",e,"\\}"].join(""),"g"),t)})),l}function u(t){var e,n;return null!=(n=null!=t?t:null===(e=window)||void 0===e?void 0:e.event)?n:{}}function l(t,e,r,o,i,s){var a;return new Error(null!=(a=s+(null!=o?o:n)+i)?a:""+arguments.caller.toString())}t.getLanguage=function(){var t,e,n,r=null!=(e=null===(t=navigator.languages)||void 0===t?void 0:t[0])?e:null===(n=navigator)||void 0===n?void 0:n.language;return r=r.split("-")[0]},t.failSaveResolve=function(t,e){return void 0===e&&(e=null),r.Lang.saveResolve(t,e)},t.failSaveExecute=function(t,e){void 0===e&&(e=null),r.Lang.saveResolve(t,e)},t.getMessage=a,t.keyValToStr=function(t,e,n){return void 0===n&&(n="\n"),[t,e].join(n)},t.getEvent=u,t.getEventTarget=function(t){for(var e,n,r,o,i,s=null!=(o=null!=(n=null===(e=t=u(t))||void 0===e?void 0:e.srcElement)?n:null===(r=t)||void 0===r?void 0:r.target)?o:null===(i=t)||void 0===i?void 0:i.source;s&&1!=s.nodeType;)s=s.parentNode;return s},t.makeException=l,t.getGlobalConfig=function(t,e){var n,r,o,i;return null!=(i=null===(o=null===(r=null===(n=window)||void 0===n?void 0:n.myfaces)||void 0===r?void 0:r.config)||void 0===o?void 0:o[t])?i:e},t.getLocalOrGlobalConfig=function(t,e,n){var r,o,i,s,a,u,l,c;return null!=(c=null!=(s=null===(i=null===(o=null===(r=t.value)||void 0===r?void 0:r.myfaces)||void 0===o?void 0:o.config)||void 0===i?void 0:i[e])?s:null===(l=null===(u=null===(a=window)||void 0===a?void 0:a.myfaces)||void 0===u?void 0:u.config)||void 0===l?void 0:l[e])?c:n},t.getForm=function(e,n){var r="form",o=new i.DQ(e),s=new i.DQ(t.getEventTarget(n));if(o.isTag(r))return o;if(o.attr(r).isPresent()){var u=o.attr(r).value,c=i.DQ.byId(u);if(c.isPresent())return c}var f=o.parents(r).orElseLazy((function(){return o.byTagName(r,!0)})).orElseLazy((function(){return s.parents(r)})).orElseLazy((function(){return s.byTagName(r)})).first();return function(t){if(t.isAbsent())throw l(new Error,null,null,"Impl","getForm",a("ERR_FORM"))}(f),f}}(e.ExtLang||(e.ExtLang={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);!function(t){function e(t){for(var e=/\s/,n=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(--n)););return t.slice(0,n+1)}function n(t){return!!arguments.length&&null!=t&&("string"==typeof t||t instanceof String)}t.saveResolve=function(t,e){void 0===e&&(e=null);try{var n=t();return r.Optional.fromNullable(null!=n?n:e)}catch(t){return r.Optional.absent}},t.saveResolveLazy=function(t,e){void 0===e&&(e=null);try{var n=t();return r.Optional.fromNullable(null!=n?n:e())}catch(t){return r.Optional.absent}},t.strToArray=function(t,n){void 0===n&&(n=/\./gi);var r=[];return t.split(n).forEach((function(t){r.push(e(t))})),r},t.trim=e,t.objToArray=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=[]),"__undefined__"==(null!=t?t:"__undefined__")?null!=n?n:null:t instanceof Array&&!e&&!n?t:n.concat(Array.prototype.slice.call(t,e))},t.equalsIgnoreCase=function(t,e){var n=null!=e?e:"___no_value__";return(null!=t?t:"___no_value__").toLowerCase()===n.toLowerCase()},t.assertType=function(t,e){return n(e)?typeof t==e:t instanceof e},t.isString=n,t.isFunc=function(t){return t instanceof Function||"function"==typeof t},t.objAssign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(null==t)throw new TypeError("Cannot convert undefined or null to object");var r=Object(t);return Object.assign?(e.forEach((function(t){return Object.assign(r,t)})),r):(e.forEach((function(t){var e=t;if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])})),r)}}(e.Lang||(e.Lang={}))},function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(7),s=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._limits=-1,this.pos=-1,this.value=t}return t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,r([void 0],e)))},t.ofAssoc=function(t){return this.of.apply(this,Object.keys(t)).map((function(e){return[e,t[e]]}))},t.ofDataSource=function(e){for(var n=[];e.hasNext();)n.push(e.next());return new(t.bind.apply(t,r([void 0],n)))},t.prototype.limits=function(t){return this._limits=t,this},t.prototype.onElem=function(t){for(var e=0;e<this.value.length&&(-1==this._limits||e<this._limits)&&!1!==t(this.value[e],e);e++);return this},t.prototype.each=function(t){this.onElem(t)},t.prototype.map=function(e){e||(e=function(t){return t});var n=[];return this.each((function(t,r){n.push(e(t))})),new(t.bind.apply(t,r([void 0],n)))},t.prototype.flatMap=function(e){var n=[];return this.each((function(t){var r=e(t);n=Array.isArray(r)?n.concat(r):n.concat.apply(n,r.value)})),t.of.apply(t,n)},t.prototype.filter=function(e){var n=[];return this.each((function(t){e(t)&&n.push(t)})),new(t.bind.apply(t,r([void 0],n)))},t.prototype.reduce=function(t,e){void 0===e&&(e=null);for(var n=null!=e?0:1,r=null!=e?e:this.value.length?this.value[0]:null,i=n;i<this.value.length&&(-1==this._limits||i<this._limits);i++)r=t(r,this.value[i]);return o.Optional.fromNullable(r)},t.prototype.first=function(){return this.value&&this.value.length?o.Optional.fromNullable(this.value[0]):o.Optional.absent},t.prototype.last=function(){var t=this._limits>0?Math.min(this._limits,this.value.length):this.value.length;return o.Optional.fromNullable(t?this.value[t-1]:null)},t.prototype.anyMatch=function(t){for(var e=0;e<this.value.length&&(-1==this._limits||e<this._limits);e++)if(t(this.value[e]))return!0;return!1},t.prototype.allMatch=function(t){if(!this.value.length)return!1;for(var e=0,n=0;n<this.value.length;n++)t(this.value[n])&&e++;return e==this.value.length},t.prototype.noneMatch=function(t){for(var e=0,n=0;n<this.value.length;n++)t(this.value[n])||e++;return e==this.value.length},t.prototype.sort=function(e){var n=this.value.slice().sort(e);return t.of.apply(t,n)},t.prototype.collect=function(t){return this.each((function(e){return t.collect(e)})),t.finalValue},t.prototype.hasNext=function(){var t=-1!=this._limits&&this.pos>=this._limits-1,e=this.pos>=this.value.length-1;return!(t||e)},t.prototype.next=function(){return this.hasNext()?(this.pos++,this.value[this.pos]):null},t.prototype.reset=function(){this.pos=-1},t}();e.Stream=s;var a=function(){function t(t){this._limits=-1,this.pos=-1,this.dataSource=t}return t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new t(new(i.ArrayStreamDataSource.bind.apply(i.ArrayStreamDataSource,r([void 0],e))))},t.ofAssoc=function(t){return this.of.apply(this,Object.keys(t)).map((function(e){return[e,t[e]]}))},t.ofStreamDataSource=function(e){return new t(e)},t.prototype.hasNext=function(){return!this.isOverLimits()&&this.dataSource.hasNext()},t.prototype.next=function(){var t=this.dataSource.next();return this.pos++,t},t.prototype.reset=function(){this.dataSource.reset(),this.pos=0,this._limits=-1},t.prototype.nextFilter=function(t){if(this.hasNext()){var e=this.next();return t(e)?e:this.nextFilter(t)}return null},t.prototype.limits=function(t){return this._limits=t,this},t.prototype.collect=function(t){for(;this.hasNext();){var e=this.next();t.collect(e)}return t.finalValue},t.prototype.onElem=function(e){var n=this;return new t(new i.MappedStreamDataSource((function(t){return!1===e(t,n.pos)&&n.stop(),t}),this))},t.prototype.filter=function(e){return new t(new i.FilteredStreamDatasource(e,this))},t.prototype.map=function(e){return new t(new i.MappedStreamDataSource(e,this))},t.prototype.flatMap=function(e){return new t(new i.FlatMapStreamDataSource(e,this))},t.prototype.each=function(t){for(;this.hasNext();)!1===t(this.next())&&this.stop()},t.prototype.reduce=function(t,e){if(void 0===e&&(e=null),!this.hasNext())return o.Optional.absent;var n=null,r=null;if(null!=e)n=e,r=this.next();else{if(n=this.next(),!this.hasNext())return o.Optional.fromNullable(n);r=this.next()}for(n=t(n,r);this.hasNext();)n=t(n,r=this.next());return o.Optional.fromNullable(n)},t.prototype.last=function(){return this.hasNext()?this.reduce((function(t,e){return e})):o.Optional.absent},t.prototype.first=function(){return this.reset(),this.hasNext()?o.Optional.fromNullable(this.next()):o.Optional.absent},t.prototype.anyMatch=function(t){for(;this.hasNext();)if(t(this.next()))return!0;return!1},t.prototype.allMatch=function(t){for(;this.hasNext();)if(!t(this.next()))return!1;return!0},t.prototype.noneMatch=function(t){for(;this.hasNext();)if(t(this.next()))return!1;return!0},t.prototype.sort=function(e){var n=this.collect(new i.ArrayCollector);return n=n.sort(e),t.of.apply(t,n)},Object.defineProperty(t.prototype,"value",{get:function(){return this.collect(new i.ArrayCollector)},enumerable:!0,configurable:!0}),t.prototype.stop=function(){this.pos=this._limits+1e9},t.prototype.isOverLimits=function(){return-1!=this._limits&&this.pos>=this._limits-1},t}();e.LazyStream=a},function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dataPos=-1,this.value=t}return t.prototype.hasNext=function(){return this.value.length-1>this.dataPos},t.prototype.next=function(){return this.dataPos++,this.value[this.dataPos]},t.prototype.reset=function(){this.dataPos=-1},t}();e.ArrayStreamDataSource=i;var s=function(){function t(t,e){this.filteredNext=null,this.filterFunc=t,this.inputDataSource=e}return t.prototype.hasNext=function(){for(;null==this.filteredNext&&this.inputDataSource.hasNext();){var t=this.inputDataSource.next();if(this.filterFunc(t))return this.filteredNext=t,!0;this.filteredNext=null}return null!=this.filteredNext},t.prototype.next=function(){var t=this.filteredNext;return this.filteredNext=null,this.hasNext(),t},t.prototype.reset=function(){this.filteredNext=null,this.inputDataSource.reset()},t}();e.FilteredStreamDatasource=s;var a=function(){function t(t,e){this.mapFunc=t,this.inputDataSource=e}return t.prototype.hasNext=function(){return this.inputDataSource.hasNext()},t.prototype.next=function(){return this.mapFunc(this.inputDataSource.next())},t.prototype.reset=function(){this.inputDataSource.reset()},t}();e.MappedStreamDataSource=a;var u=function(){function t(t,e){this.mapFunc=t,this.inputDataSource=e}return t.prototype.hasNext=function(){return this.resolveCurrentNext()||this.resolveNextNext()},t.prototype.resolveCurrentNext=function(){var t=!1;return this.activeDataSource&&(t=this.activeDataSource.hasNext()),t},t.prototype.resolveNextNext=function(){for(var t=!1;!t&&this.inputDataSource.hasNext();){var e=this.mapFunc(this.inputDataSource.next());Array.isArray(e)?this.activeDataSource=new(i.bind.apply(i,r([void 0],e))):this.activeDataSource=e,t=this.activeDataSource.hasNext()}return t},t.prototype.next=function(){return this.activeDataSource.next()},t.prototype.reset=function(){this.inputDataSource.reset()},t}();e.FlatMapStreamDataSource=u;var l=function(){function t(){this.data=[]}return t.prototype.collect=function(t){this.data.push(t)},Object.defineProperty(t.prototype,"finalValue",{get:function(){return this.data},enumerable:!0,configurable:!0}),t}();e.ArrayCollector=l;var c=function(){function t(){this.finalValue={}}return t.prototype.collect=function(t){var e,n;this.finalValue[(e=t[0],null!=e?e:t)]=null==(n=t[1])||n},t}();e.AssocArrayCollector=c;var f=function(){function t(){this.finalValue=new FormData}return t.prototype.collect=function(t){this.finalValue.append(t.key,t.value)},t}();e.FormDataCollector=f;var p=function(){function t(){this.finalValue=new FormData}return t.prototype.collect=function(t){var e=t.encodeFormElement();e.isPresent()&&this.finalValue.append(t.name.value,e.get(t.name).value)},t}();e.QueryFormDataCollector=p;var h=function(){function t(){this.formData=[]}return t.prototype.collect=function(t){var e=t.encodeFormElement();e.isPresent()&&this.formData.push([t.name.value,e.get(t.name).value])},Object.defineProperty(t.prototype,"finalValue",{get:function(){return o.Stream.of.apply(o.Stream,this.formData).map((function(t){return t.join("=")})).reduce((function(t,e){return[t,e].join("&")})).orElse("").value},enumerable:!0,configurable:!0}),t}();e.QueryFormStringCollector=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i=n(14),s=n(15),a=n(21),u=n(22),l=n(3),c=n(0),f=n(9),p=n(13),h=n(23),v=n(10),d=n(2),E=n(1),y=n(7),_=n(4);!function(t){t.Production="Production",t.Development="Development",t.SystemTest="SystemTest",t.UnitTest="UnitTest"}(r||(r={})),function(t){t.onerror="onerror",t.onevent="onevent",t.render="render",t.execute="execute",t.myfaces="myfaces",t.delay="delay",t.timeout="timeout",t.windowId="windowId"}(o||(o={})),function(t){var e=E.Lang.trim,n=_.ExtLang.getMessage,m=_.ExtLang.getForm,g=_.ExtLang.getLocalOrGlobalConfig,R=_.ExtLang.getEvent,C=_.ExtLang.getGlobalConfig,A=f.Assertions.assert,T=(i.myfaces.config,[]),S=[];t.requestQueue=null;var b="ERROR";function P(){var t=h.ExtDomquery.searchJsfJsFor(/stage=([^&;]*)/).value;return t in r?t:null}function O(t,e){void 0===e&&(e=function(t){}),e(t),S.forEach((function(e){e(t)})),C("defaultErrorOutput",console?console.error:alert)(t)}function N(t,n,r,o,i){for(var s=r?e(r).split(/\s+/gi):[],a=[],u={},l=0;l<s.length;l++)if(!(s[l]in u))switch(s[l]){case c.Const.IDENT_NONE:return t.delete(n);case c.Const.IDENT_ALL:return t.assign(n).value=c.Const.IDENT_ALL,t;case c.Const.IDENT_FORM:a.push(o.id.value),u[o.id.value]=!0;break;case c.Const.IDENT_THIS:i in u||(a.push(i),u[i]=!0);break;default:a.push(s[l]),u[s[l]]=!0}return t.assign(n).value=a.join(" "),t}t.queueHandler={addRequestToQueue:function(e,n,r,o,i,s){void 0===i&&(i=0),void 0===s&&(s=0),t.requestQueue=null!==t.requestQueue&&void 0!==t.requestQueue?t.requestQueue:new u.AsynchronouseQueue,t.requestQueue.enqueue(new a.XhrRequest(e,n,r,o,[],s),i)}},t.getSeparatorChar=function(){var t,e,n;return null!=(n=null!=(e=null===(t=null===this||void 0===this?void 0:this.globalConfig)||void 0===t?void 0:t.separator)?e:null===this||void 0===this?void 0:this.separator)?n:h.ExtDomquery.searchJsfJsFor(/separator=([^&;]*)/).orElse(":").value},t.reset=function(){i.myfaces.config,null,null,T=[],S=[],t.requestQueue=null},t.getProjectStage=function(){var t,e,n;return null!=(n=null!=(e=null===(t=null===this||void 0===this?void 0:this.globalConfig)||void 0===t?void 0:t.projectStage)?e:null===this||void 0===this?void 0:this.projectStage)?n:P()},t.resolveProjectStateFromURL=P,t.chain=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=!0;return E.Stream.of.apply(E.Stream,r).each((function(r){return function(r){if("string"!=typeof r)return i=i&&!1!==r.call(t,n);var o=e(r);return 0==o.indexOf("function ")&&(o="return "+o+" (event)"),i=i&&!1!==new Function("event",o).call(t,n)}(r)})),i},t.request=function(e,n,r){var i,s,a,u,p,v,_;n=R(n);var C,A=new l.Config(r).deepCopy,T=d.DQ.byId(e||n.target),S=T.id,b=new l.Config({}),P=new l.Config({});f.Assertions.assertRequestIntegrity(A,T),function(t){var e,n,r,o=null!==(r=null===(n=null===(e=t)||void 0===e?void 0:e.value)||void 0===n?void 0:n.windowId)&&void 0!==r?r:h.ExtDomquery.windowId;t.assignIf(!!o,c.Const.P_WINDOW_ID).value=o,t.delete("windowId")}(A),b.assign(c.Const.CTX_PARAM_PASS_THR).value=(C=A.value,E.Stream.ofAssoc(C).filter((function(t){return!(t[0]in o)})).collect(new y.AssocArrayCollector)),b.assignIf(!!n,c.Const.CTX_PARAM_PASS_THR,c.Const.P_EVT).value=null===(i=n)||void 0===i?void 0:i.type,b.assign(c.Const.SOURCE).value=S.value,b.assign(c.Const.ON_EVENT).value=null===(s=A.value)||void 0===s?void 0:s.onevent,b.assign(c.Const.ON_ERROR).value=null===(a=A.value)||void 0===a?void 0:a.onerror,b.assign(c.Const.MYFACES).value=null===(u=A.value)||void 0===u?void 0:u.myfaces,null!=(null===(v=null===(p=b.value)||void 0===p?void 0:p.myfaces)||void 0===v?void 0:v.form)||c.Const.MF_NONE;var O=function(t,e,n){var r,o,i,s=null!==(i=null===(o=null===(r=t.value)||void 0===r?void 0:r.myfaces)||void 0===o?void 0:o.form)&&void 0!==i?i:c.Const.MF_NONE;return d.DQ.byId(s).orElseLazy((function(){return m(e.getAsElem(0).value,n)}))}(b,T,n);b.assign(c.Const.CTX_PARAM_PASS_THR,c.Const.P_PARTIAL_SOURCE).value=S.value,b.assign(c.Const.CTX_PARAM_PASS_THR,c.Const.P_AJAX).value=!0,b.assign(c.Const.CTX_PARAM_PASS_THR,c.Const.P_PARTIAL_SOURCE).value=S.value,b.assignIf(!0===(null===(_=A.value)||void 0===_?void 0:_.resetValues),c.Const.CTX_PARAM_PASS_THR,c.Const.P_RESET_VALUES).value=!0,P.assign(c.Const.CTX_PARAM_SRC_FRM_ID).value=O.id.value,P.assign(c.Const.CTX_PARAM_SRC_CTL_ID).value=S.value,P.assign(c.Const.CTX_PARAM_TR_TYPE).value=c.Const.REQ_TYPE_POST,b.assign(c.Const.CTX_PARAM_PASS_THR,O.id.value).value=O.id.value,function(t,e){var n=jsf.getClientWindow(t.getAsElem(0).value);n&&(e.assign(c.Const.CTX_PARAM_PASS_THR,c.Const.P_CLIENTWINDOW).value=n)}(O,b),function(t,e,n,r){t.getIf(c.Const.CTX_PARAM_EXECUTE).isPresent()?(t.assign(c.Const.CTX_PARAM_EXECUTE).value=t.getIf(c.Const.CTX_PARAM_EXECUTE).value+" @this",N(e.getIf(c.Const.CTX_PARAM_PASS_THR).get({}),c.Const.P_EXECUTE,t.getIf(c.Const.CTX_PARAM_EXECUTE).value,n,r)):e.assign(c.Const.CTX_PARAM_PASS_THR,c.Const.P_EXECUTE).value=r}(A,b,O,S.value),function(t,e,n,r){t.getIf("render").isPresent()&&N(e.getIf(c.Const.CTX_PARAM_PASS_THR).get({}),c.Const.P_RENDER,t.getIf("render").value,n,r)}(A,b,O,S.value);var M=function(t,e){var n,r=g;return null!==(n=t.getIf(c.Const.CTX_PARAM_DELAY).value)&&void 0!==n?n:r(e.value,c.Const.CTX_PARAM_DELAY,0)}(A,b),w=function(t,e){var n,r=g;return null!==(n=t.getIf(c.Const.CTX_PARAM_TIMEOUT).value)&&void 0!==n?n:r(e.value,c.Const.CTX_PARAM_TIMEOUT,0)}(A,b);t.queueHandler.addRequestToQueue(T,O,b,P,M,w)},t.response=function(t,e){s.Response.processResponse(t,e)},t.addOnError=function(t){S.push(t)},t.addOnEvent=function(t){T.push(t)},t.sendEvent=function(t,e){void 0===e&&(e=function(t){}),e(t),T.forEach((function(e){return e(t)}))},t.stdErrorHandler=function(e,n,r,o){void 0===o&&(o=!1);try{if("ERROR"==b)O(v.ErrorData.fromClient(r))}finally{o&&t.requestQueue.cleanup()}},t.sendError=O,t.getClientWindow=function(t){var e,n="___mf_id_altered__",r=new d.DQ(t||document.body),o=(r.querySelectorAll("form #"+c.Const.P_WIN_ID),r.stream.map((function(t){return t.attr("value").value})).reduce((function(t,e){return t==n?t:"___init____"==t?e:t!=e?n:e}),"___init____"));return A(o.value!=n,"Multiple different windowIds found in document"),null!=(e=o.value)?e:h.ExtDomquery.searchJsfJsFor(/jfwid=([^&;]*)/).orElse(null).value},t.getViewState=function(t){var e=d.DQ.byId(t);if(!e.isTag("form"))throw new Error(n("ERR_VIEWSTATE"));return new p.XhrFormData(e).toString()}}(e.Implementation||(e.Implementation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(0),i=n(4),s=i.ExtLang.getMessage,a=i.ExtLang.makeException;!function(t){function e(e,n,r,o){if(void 0===n&&(n=""),void 0===r&&(r=""),void 0===o&&(o="Assertion Error"),!e)throw t.raiseError(new Error,n,r,o)}function n(e,n,o,i,s){if(void 0===o&&(o=""),void 0===i&&(i=""),void 0===s&&(s="Type Assertion Error"),e&&!r.Lang.assertType(e,n))throw t.raiseError(new Error,o,i,s)}function i(t,e,r,o){void 0===e&&(e=""),void 0===r&&(r=""),void 0===o&&(o="Assertion Error"),n(t,"function",e,r,o)}t.assertRequestIntegrity=function(t,n){i(t.getIf(o.Const.ON_ERROR).value),i(t.getIf(o.Const.ON_EVENT).value),e(n.isPresent(),s("ERR_MUST_BE_PROVIDED1","{0}: source  must be provided or exist","source element id"),"jsf.ajax.request","ArgNotSet")},t.assertUrlExists=function(e){if(e.attr(o.Const.ATTR_URL).isAbsent())throw t.raiseError(new Error,s("ERR_RED_URL",null,"_Ajaxthis.processRedirect"),"processRedirect")},t.assertValidXMLResponse=function(t){e(!t.isAbsent(),o.Const.EMPTY_RESPONSE,o.Const.PHASE_PROCESS_RESPONSE),e(!t.isXMLParserError(),t.parserErrorText(""),o.Const.PHASE_PROCESS_RESPONSE),e(t.querySelectorAll(o.Const.RESP_PARTIAL).isPresent(),o.Const.ERR_NO_PARTIAL_RESPONSE,o.Const.PHASE_PROCESS_RESPONSE)},t.raiseError=function(t,e,n,r,i){var s=null!=r?r:o.Const.MALFORMEDXML,u=null!=i?i:o.Const.MALFORMEDXML,l=null!=e?e:"";return a(t,s,u,"Response",n||(arguments.caller?arguments.caller.toString():"_raiseError"),l)},t.assert=e,t.assertType=n,t.assertFunction=i}(e.Assertions||(e.Assertions={}))},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,s=n(0),a=n(11),u=n(4).ExtLang.getMessage;!function(t){t.SERVER_ERROR="serverError",t.HTTP_ERROR="httpError",t.CLIENT_ERROR="clientErrror",t.TIMEOUT="timeout"}(i=e.ErrorType||(e.ErrorType={}));var l=function(t){function e(e,n,r,o,s,a,u,l){void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a="200"),void 0===u&&(u="UNKNOWN"),void 0===l&&(l=i.CLIENT_ERROR);var c=t.call(this)||this;return c.type="error",c.source=e,c.type="error",c.errorName=n,c.message=c.errorMessage=r,c.responseCode=a,c.responseText=o,c.status=u,c.typeDetails=l,l==i.SERVER_ERROR&&(c.serverErrorName=c.errorName,c.serverErrorMessage=c.errorMessage),c}return o(e,t),e.fromClient=function(t){return new e("client",t.name,t.message,t.stack)},e.fromHttpConnection=function(t,n,r,o,s){return new e(t,n,r,o,s,null,"UNKNOWN",i.HTTP_ERROR)},e.fromGeneric=function(t,n,r){var o=this.getMsg,a=o(t,s.Const.SOURCE),u=(o(t,s.Const.ERROR_NAME),o(t,s.Const.ERROR_MESSAGE)),l=o(t,s.Const.STATUS),c=o(t,s.Const.RESPONSE_TEXT),f=o(t,s.Const.RESPONSE_XML);return new e(a,name,u,c,f,n+"",l,i.SERVER_ERROR)},e.getMsg=function(t,e){return u(t.getIf(e).orElse("UNKNOWN").value)},e.fromServerError=function(t){return this.fromGeneric(t,-1,i.SERVER_ERROR)},e}(a.EventData);e.ErrorData=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(0),i=n(4).ExtLang.getMessage,s=function(){function t(){}return t.createFromRequest=function(e,n,s){var a,u,l,c,f=new t;i("UNKNOWN");f.type=o.Const.EVENT,f.status=s;var p=n.getIf(o.Const.SOURCE).orElse(n.getIf(o.Const.P_PARTIAL_SOURCE).value).orElse(n.getIf(o.Const.CTX_PARAM_PASS_THR,o.Const.P_PARTIAL_SOURCE).value).value;return p&&(f.source=r.DQ.byId(p).first().value.value),s!==o.Const.BEGIN&&(f.responseCode=null===(u=null===(a=e)||void 0===a?void 0:a.status)||void 0===u?void 0:u.toString(),f.responseText=null===(l=e)||void 0===l?void 0:l.responseText,f.responseXML=null===(c=e)||void 0===c?void 0:c.responseXML),f},t}();e.EventData=s},function(t,e,n){"use strict";var r,o,i,s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(e,"__esModule",{value:!0});var a,u=n(8),l=n(24),c=null!=(i=null===(o=null===(r=window)||void 0===r?void 0:r.myfaces)||void 0===o?void 0:o._impl)?i:{};!function(t){t.specversion=22e4,t.implversion=0,t.separatorchar=u.Implementation.getSeparatorChar(),t.getProjectStage=function(){return u.Implementation.getProjectStage()},t.getViewState=function(t){return u.Implementation.getViewState(t)},t.getClientWindow=function(t){return u.Implementation.getClientWindow(t)},"undefined"==window.jsf&&(window.jsf=t),function(t){t.request=function(t,e,n){u.Implementation.request(t,e,n)},t.response=function(t,e){u.Implementation.response(t,e)},t.addOnError=function(t){u.Implementation.addOnError(t)},t.addOnEvent=function(t){u.Implementation.addOnEvent(t)}}(t.ajax||(t.ajax={})),function(t){t.chain=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return u.Implementation.chain.apply(u.Implementation,s([t,e],n))}}(t.util||(t.util={})),function(t){t.init=function(t,e,n,r,o,i,s,a){l.PushImpl.init(t,e,n,r,o,i,s,a)},t.open=function(t){l.PushImpl.open(t)},t.close=function(t){l.PushImpl.close(t)}}(t.push||(t.push={}))}(a=e.jsf||(e.jsf={})),function(t){t._impl=c,t.ab=function(t,e,n,r,o,i){void 0===i&&(i={}),n&&(i["javax.faces.behavior.event"]=n),r&&(i.execute=r),o&&(i.render=o),a.ajax.request(t,e,i)}}(e.myfaces2||(e.myfaces2={}))},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n(0),u=n(6),l=n(2),c=s.Lang.isString,f=function(t){function e(e,n){var r=t.call(this,{})||this;return r.dataSource=e,r.partialIdsArray=n,c(e)?r.handleStringSource():r.handleFormSource(),r}return o(e,t),e.prototype.handleFormSource=function(){this.encodeSubmittableFields(this,this.dataSource,this.partialIdsArray),this.getIf(a.Const.P_VIEWSTATE).isPresent()||this.applyViewState(this.dataSource)},e.prototype.handleStringSource=function(){this.mergeEncodedString(this.dataSource)},e.prototype.applyViewState=function(t){var e=this;t.byId(a.Const.P_VIEWSTATE).ifPresentLazy((function(t){var n=t.inputValue.value;e.assignIf(!!n,a.Const.P_VIEWSTATE).value=n}))},e.prototype.mergeEncodedString=function(t){var e=this,n=t.split(/\&/gi);u.Stream.of.apply(u.Stream,n).map((function(t){return t.split(/\=/gi)})).each((function(t){e.assign(t[0]).value=t[1]||null}))},e.prototype.toFormData=function(){var t=new FormData;for(var e in this.value)this.value.hasOwnProperty(e)&&t.append(e,this.value[e]);return t},e.prototype.toString=function(t){if(void 0===t&&(t=""),this.isAbsent())return t;var e=[];for(var n in this.value)this.value.hasOwnProperty(n)&&e.push(n+"="+this.value[n]);return e.join("&")},e.prototype.encodeSubmittableFields=function(t,e,n){var r=null;if(this.partialIdsArray&&this.partialIdsArray.length)this._value={},r=new(l.DQ.bind.apply(l.DQ,i([void 0],this.partialIdsArray)));else{if(e.isAbsent())throw"NO_PARITEM";r=e}this.shallowMerge(r.querySelectorAll("input, checkbox, select, textarea").encodeFormElement())},Object.defineProperty(e.prototype,"isMultipartRequest",{get:function(){return this.dataSource instanceof l.DQ&&this.dataSource.querySelectorAll("input[type='file']").isPresent()},enumerable:!0,configurable:!0}),e}(s.Config);e.XhrFormData=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=function(){this.projectStage=null,this.separator=null};t.ConfigHolder=e,t.config=new e}(e.myfaces||(e.myfaces={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(0),i=n(17),s=n(20);!function(t){var e=s.ResonseDataResolver.resolveResponseXML,n=s.ResonseDataResolver.resolveContexts;t.processResponse=function(t,s){var u=r.Config.fromNullable(t),l=n(s),c=l.externalContext,f=l.internalContext,p=e(u),h=new i.ResponseProcessor(u,c,f);f.assign(o.Const.RESPONSE_XML).value=p,p.querySelectorAll(o.Const.RESP_PARTIAL).each((function(t){return function(t,e,n){n.assign(o.Const.PARTIAL_ID).value=t.id;var i=[o.Const.CMD_ERROR,o.Const.CMD_REDIRECT,o.Const.CMD_CHANGES].join(",");t.getIf(i).each((function(t){switch(t.tagName.value){case o.Const.CMD_ERROR:e.error(t);break;case o.Const.CMD_REDIRECT:e.redirect(t);break;case o.Const.CMD_CHANGES:!function(t,e){var n=[o.Const.CMD_UPDATE,o.Const.CMD_EVAL,o.Const.CMD_INSERT,o.Const.CMD_DELETE,o.Const.CMD_ATTRIBUTES,o.Const.CMD_EXTENSION].join(",");t.getIf(n).each((function(t){switch(t.tagName.value){case o.Const.CMD_UPDATE:!function(t,e){e.processViewState(t)||function(t,e){var n=t.cDATAAsString;switch(t.id.value){case o.Const.P_VIEWROOT:e.replaceViewRoot(r.DQ.fromMarkup(n.substring(n.indexOf("<html"))));break;case o.Const.P_VIEWHEAD:e.replaceHead(r.DQ.fromMarkup(n));break;case o.Const.P_VIEWBODY:e.replaceBody(r.DQ.fromMarkup(n));break;default:e.update(t,n)}}(t,e)}(t,e);break;case o.Const.CMD_EVAL:e.eval(t);break;case o.Const.CMD_INSERT:a(e,t);break;case o.Const.CMD_DELETE:e.delete(t);break;case o.Const.CMD_ATTRIBUTES:e.attributes(t);break;case o.Const.CMD_EXTENSION:}}))}(t,e)}}))}(t,h,f)})),h.fixViewStates(),h.globalEval(),h.done()};var a=function(t,e){e.querySelectorAll([o.Const.TAG_BEFORE,o.Const.TAG_AFTER].join(",")).length?t.insertWithSubtags(e):t.insert(e)}}(e.Response||(e.Response={}))},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),s=n(2),a=i.Lang.isString,u=function(t){function e(e,n){void 0===n&&(n="text/xml");var r;return a(e)?t.call(this,null==(r=e)?null:i.Lang.saveResolveLazy((function(){return new window.DOMParser}),(function(){return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,{parseFromString:function(e,n){return t.loadXML(e)}};var t})).value.parseFromString(r,n))||this:t.call(this,e)||this}return o(e,t),e.prototype.isXMLParserError=function(){return this.querySelectorAll("parsererror").isPresent()},e.prototype.toString=function(){var t=[];return this.eachElem((function(e){var n,r,o,i,s,a=null!=(i=null===(o=null===(r=null===(n=window)||void 0===n?void 0:n.XMLSerializer)||void 0===r?void 0:r.constructor())||void 0===o?void 0:o.serializeToString(e))?i:null===(s=e)||void 0===s?void 0:s.xml;a&&t.push(a)})),t.join("")},e.prototype.parserErrorText=function(t){return this.querySelectorAll("parsererror").textContent(t)},e.parseXML=function(t){return new e(t)},e.parseHTML=function(t){return new e(t,"text/html")},e.fromString=function(t,n){return void 0===n&&(n="text/xml"),new e(t,n)},e}(s.DomQuery);e.XMLQuery=u,e.XQ=u},function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),s=n(8),a=n(9),u=n(10),l=n(2),c=n(4),f=o.Lang.trim,p=c.ExtLang.getLocalOrGlobalConfig,h=n(19),v=n(11),d=function(){function t(t,e,n){this.request=t,this.externalContext=e,this.internalContext=n}return t.prototype.replaceHead=function(t){var e=t.querySelectorAll(i.Const.TAG_HEAD);if(e.isPresent()){e.html().value;l.DQ.querySelectorAll(i.Const.TAG_HEAD).querySelectorAll(i.Const.SEL_SCRIPTS_STYLES).delete(),this.storeForEval(e)}},t.prototype.replaceBody=function(t){var e=t.querySelectorAll(i.Const.TAG_BODY);if(e.isPresent()){var n=e.html().value,r=l.DQ.querySelectorAll(i.Const.TAG_BODY).html(n),o=r.querySelectorAll(i.Const.TAG_FORM);r.copyAttrs(e),this.storeForPostProcessing(o,r)}},t.prototype.eval=function(t){l.DQ.globalEval(t.cDATAAsString)},t.prototype.error=function(t){var e=new o.Config({});e.assign(i.Const.SOURCE).value=this.externalContext.getIf(i.Const.P_PARTIAL_SOURCE).get(0).value,e.assign(i.Const.ERROR_NAME).value=t.getIf(i.Const.ERROR_NAME).textContent(""),e.assign(i.Const.ERROR_MESSAGE).value=t.getIf(i.Const.ERROR_MESSAGE).cDATAAsString;var n=this.internalContext.get(i.Const.RESPONSE_XML).isPresent();e.assignIf(n,i.Const.RESPONSE_XML).value=this.internalContext.getIf(i.Const.RESPONSE_XML).value.get(0).value;var r=u.ErrorData.fromServerError(e);this.externalContext.getIf(i.Const.ON_ERROR).orElse(this.internalContext.getIf(i.Const.ON_ERROR).value).orElse(i.Const.EMPTY_FUNC).value(r),s.Implementation.sendError(r)},t.prototype.redirect=function(t){a.Assertions.assertUrlExists(t);var e=f(t.attr(i.Const.ATTR_URL).value);""!=e&&(window.location.href=e)},t.prototype.update=function(t,e){var n,r=l.DQ.byId(t.id.value).outerHTML(e,!1,!1),o=null===(n=r)||void 0===n?void 0:n.parents(i.Const.TAG_FORM).orElse(r.byTagName(i.Const.TAG_FORM,!0));o&&this.storeForPostProcessing(o,r)},t.prototype.delete=function(t){l.DQ.byId(t.id.value).delete()},t.prototype.attributes=function(t){var e=l.DQ.byId(t.id.value);t.byTagName(i.Const.TAG_ATTR).each((function(t){e.attr(t.attr(i.Const.ATTR_NAME).value).value=t.attr(i.Const.ATTR_VALUE).value}))},t.prototype.replaceViewRoot=function(t){this.replaceHead(t),this.replaceBody(t)},t.prototype.insert=function(t){var e=t.attr(i.Const.TAG_BEFORE),n=t.attr(i.Const.TAG_AFTER),r=l.DQ.fromMarkup(t.cDATAAsString);if(e.isPresent()){l.DQ.byId(e.value).insertBefore(r);this.internalContext.assign(i.Const.UPDATE_ELEMS).value.push(r)}n.isPresent()&&(l.DQ.byId(n.value).insertAfter(r),this.internalContext.assign(i.Const.UPDATE_ELEMS).value.push(r))},t.prototype.insertWithSubtags=function(t){var e=this,n=t.querySelectorAll(i.Const.TAG_BEFORE),r=t.querySelectorAll(i.Const.TAG_AFTER);n.each((function(t){var n=t.attr(i.Const.ATTR_ID),r=l.DQ.fromMarkup(t.cDATAAsString);n.isPresent()&&(l.DQ.byId(n.value).insertBefore(r),e.internalContext.assign(i.Const.UPDATE_ELEMS).value.push(r))})),r.each((function(t){var n=t.attr(i.Const.ATTR_ID),r=l.DQ.fromMarkup(t.cDATAAsString);n.isPresent()&&(l.DQ.byId(n.value).insertAfter(r),e.internalContext.assign(i.Const.UPDATE_ELEMS).value.push(r))}))},t.prototype.processViewState=function(t){if(this.isViewStateNode(t)){var e=t.textContent();return this.internalContext.assign(i.Const.APPLIED_VST,t.id.value).value=new h.ViewState(t.id.value,e),!0}return!1},t.prototype.globalEval=function(){var t=new(l.DQ.bind.apply(l.DQ,r([void 0],this.internalContext.getIf(i.Const.UPDATE_ELEMS).value)));t.runCss(),t.runScripts()},t.prototype.fixViewStates=function(){var t=this;o.Stream.ofAssoc(this.internalContext.getIf(i.Const.APPLIED_VST).orElse({}).value).each((function(e){e[0];var n=e[1],r=l.DQ.byId(n.nameSpace).orElse(document.body),s=r.byTagName(i.Const.TAG_FORM),a=r.filter((function(t){return t.tagName.orElse("").value.toLowerCase()==i.Const.TAG_FORM}));t.appendViewStateToForms(new o.DomQuery(s,a),n.value)}))},t.prototype.done=function(){var t=v.EventData.createFromRequest(this.request.value,this.externalContext,i.Const.SUCCESS),e=this.externalContext.getIf(i.Const.ON_EVENT).orElse(this.internalContext.getIf(i.Const.ON_EVENT).value).orElse(i.Const.EMPTY_FUNC).value;s.Implementation.sendEvent(t,e)},t.prototype.isAllFormResolution=function(t){return p(t,"no_portlet_env",!1)},t.prototype.appendViewStateToForms=function(t,e){var n=this;t.each((function(t){t.querySelectorAll(i.Const.SEL_VIEWSTATE_ELEM).orElseLazy((function(){return n.newViewStateElement(t)})).attr("value").value=e}))},t.prototype.newViewStateElement=function(t){var e=l.DQ.fromMarkup(i.Const.HTML_VIEWSTATE);return e.appendTo(t),e},t.prototype.storeForPostProcessing=function(t,e){this.storeForUpdate(t),this.storeForEval(e)},t.prototype.storeForUpdate=function(t){this.internalContext.assign(i.Const.UPDATE_FORMS).value.push(t)},t.prototype.storeForEval=function(t){this.internalContext.assign(i.Const.UPDATE_ELEMS).value.push(t)},t.prototype.isViewStateNode=function(t){var e,n,r,o,s,a,u,l,c,f,p=window.jsf.separatorchar;return void 0!==(null===(n=null===(e=t)||void 0===e?void 0:e.id)||void 0===n?void 0:n.value)&&((null===(o=null===(r=t)||void 0===r?void 0:r.id)||void 0===o?void 0:o.value)==i.Const.P_VIEWSTATE||-1!=(null===(u=null===(a=null===(s=t)||void 0===s?void 0:s.id)||void 0===a?void 0:a.value)||void 0===u?void 0:u.indexOf([p,i.Const.P_VIEWSTATE].join("")))||-1!=(null===(f=null===(c=null===(l=t)||void 0===l?void 0:l.id)||void 0===c?void 0:c.value)||void 0===f?void 0:f.indexOf([i.Const.P_VIEWSTATE,p].join(""))))},t}();e.ResponseProcessor=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){this.MSG_TEST="Testmessage",this.MSG_DEV_MODE="Note, this message is only sent, because project stage is development and no other error listeners are registered.",this.MSG_AFFECTED_CLASS="Affected Class=",this.MSG_AFFECTED_METHOD="Affected Method=",this.MSG_ERROR_NAME="Error Name=",this.MSG_ERROR_MESSAGE="Error Message=",this.MSG_SERVER_ERROR_NAME="Server Error Name=",this.MSG_ERROR_DESC="Error Description=",this.MSG_ERROR_NO="Error Number=",this.MSG_ERROR_LINENO="Error Line Number=",this.ERR_FORM="Sourceform could not be determined, either because element is not attached to a form or we have multiple forms with named elements of the same identifier or name, stopping the ajax processing",this.ERR_VIEWSTATE="jsf.viewState= param value not of type form!",this.ERR_TRANSPORT="Transport type {0} does not exist",this.ERR_EVT_PASS="an event must be passed down (either a an event object null or undefined) ",this.ERR_CONSTRUCT="Parts of the response couldn't be retrieved when constructing the event data= {0} ",this.ERR_MALFORMEDXML="The server response could not be parsed, the server has returned with a response which is not xml !",this.ERR_SOURCE_FUNC="source cannot be a function (probably source and event were not defined or set to null",this.ERR_EV_OR_UNKNOWN="An event object or unknown must be passed as second parameter",this.ERR_SOURCE_NOSTR="source cannot be a string",this.ERR_SOURCE_DEF_NULL="source must be defined or null",this.ERR_MUST_STRING="{0}: {1} namespace must be of type String",this.ERR_REF_OR_ID="{0}: {1} a reference node or identifier must be provided",this.ERR_PARAM_GENERIC="{0}: parameter {1} must be of type {2}",this.ERR_PARAM_STR="{0}: {1} param must be of type string",this.ERR_PARAM_STR_RE="{0}: {1} param must be of type string or a regular expression",this.ERR_PARAM_MIXMAPS="{0}: both a source as well as a destination map must be provided",this.ERR_MUST_BE_PROVIDED="{0}: an {1} and a {2} must be provided",this.ERR_MUST_BE_PROVIDED1="{0}: {1} must be set",this.ERR_REPLACE_EL="replaceElements called while evalNodes is not an array",this.ERR_EMPTY_RESPONSE="{0}: The response cannot be null or empty!",this.ERR_ITEM_ID_NOTFOUND="{0}: item with identifier {1} could not be found",this.ERR_PPR_IDREQ="{0}: Error in PPR Insert, id must be present",this.ERR_PPR_INSERTBEFID="{0}: Error in PPR Insert, before id or after id must be present",this.ERR_PPR_INSERTBEFID_1="{0}: Error in PPR Insert, before  node of id {1} does not exist in document",this.ERR_PPR_INSERTBEFID_2="{0}: Error in PPR Insert, after  node of id {1} does not exist in document",this.ERR_PPR_DELID="{0}: Error in delete, id not in xml markup",this.ERR_PPR_UNKNOWNCID="{0}:  Unknown Html-Component-ID= {1}",this.ERR_NO_VIEWROOTATTR="{0}: Changing of ViewRoot attributes is not supported",this.ERR_NO_HEADATTR="{0}: Changing of Head attributes is not supported",this.ERR_RED_URL="{0}: Redirect without url",this.ERR_REQ_FAILED_UNKNOWN="Request failed with unknown status",this.ERR_REQU_FAILED="Request failed with status {0} and reason {1}",this.UNKNOWN="UNKNOWN"};e.Messages=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(t,e){this.id=t,this.value=e;var n=t.indexOf(r.Const.P_VIEWSTATE);this.nameSpace=n>0?t.substr(0,n-1):""}return Object.defineProperty(t.prototype,"hasNameSpace",{get:function(){var t;return!!(t=null===this||void 0===this?void 0:this.nameSpace,null!=t?t:"").length},enumerable:!0,configurable:!0}),t}();e.ViewState=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(0),i=n(9),s=n(2);!function(t){t.resolveResponseXML=function(t){var e=new r.XMLQuery(t.getIf(o.Const.SEL_RESPONSE_XML).value);return i.Assertions.assertValidXMLResponse(e),e},t.resolveContexts=function(t){var e=r.Config.fromNullable(t),n=e.getIf(o.Const.CTX_PARAM_MF_INTERNAL);return n.isPresent()||(n=r.Config.fromNullable({})),n.assign(o.Const.UPDATE_FORMS).value=[],n.assign(o.Const.UPDATE_ELEMS).value=[],{externalContext:e,internalContext:n}},t.resolveSourceElement=function(t,e){var n=function(t,e){return e.getIf(o.Const.CTX_PARAM_SRC_CTL_ID).orElseLazy((function(){return t.getIf(o.Const.SOURCE,"id").value}))}(t,e);return s.DQ.byId(n.value)},t.resolveSourceForm=function(t,e){var n=t.getIf(o.Const.CTX_PARAM_SRC_FRM_ID),r=new s.DQ(n.isPresent()?document.forms[n.value]:null);return r=r.orElse(e.parents(o.Const.TAG_FORM)).orElse(e.querySelectorAll(o.Const.TAG_FORM)).orElse(s.DQ.querySelectorAll(o.Const.TAG_FORM))}}(e.ResonseDataResolver||(e.ResonseDataResolver={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(0),i=n(13),s=n(10),a=n(11),u=n(4),l=n(1),c=u.ExtLang.failSaveExecute,f=function(){function t(t,e,n,r,i,s,a,u,l){var c=this;void 0===i&&(i=[]),void 0===s&&(s=o.Const.NO_TIMEOUT),void 0===a&&(a=o.Const.REQ_TYPE_POST),void 0===u&&(u=o.Const.URL_ENCODED),void 0===l&&(l=new XMLHttpRequest),this.source=t,this.sourceForm=e,this.requestContext=n,this.internalContext=r,this.partialIdsArray=i,this.timeout=s,this.ajaxType=a,this.contentType=u,this.xhrObject=l,this.stopProgress=!1,this.catchFuncs=[],this.thenFunc=[],this.registerXhrCallbacks((function(t){c.resolve(t)}),(function(t){c.reject(t)}))}return t.prototype.start=function(){var t=this,e=c,n=this.xhrObject;try{var r=jsf.getViewState(this.sourceForm.getAsElem(0).value),s=new i.XhrFormData(r);this.contentType=s.isMultipartRequest?o.Const.MULTIPART:this.contentType;var a=this.requestContext,u=a.getIf(o.Const.CTX_PARAM_PASS_THR);s.shallowMerge(u),this.responseContext=u.deepCopy;var l=this.responseContext;l.assign(o.Const.CTX_PARAM_MF_INTERNAL).value=this.internalContext.value,l.assign(o.Const.ON_EVENT).value=a.getIf(o.Const.ON_EVENT).value,l.assign(o.Const.ON_ERROR).value=a.getIf(o.Const.ON_ERROR).value,n.open(this.ajaxType,this.resolveFinalUrl(s),!0),this.timeout&&(n.timeout=this.timeout),e((function(){return n.setRequestHeader(o.Const.CONTENT_TYPE,t.contentType+"; charset=utf-8")})),e((function(){return n.setRequestHeader(o.Const.HEAD_FACES_REQ,o.Const.VAL_AJAX)})),e((function(){return n.setRequestHeader(o.Const.REQ_ACCEPT,o.Const.STD_ACCEPT)})),this.sendEvent(o.Const.BEGIN),this.sendRequest(s)}catch(t){this.handleError(t)}return this},t.prototype.cancel=function(){try{this.xhrObject.abort()}catch(t){this.handleError(t)}},t.prototype.resolve=function(t){l.Stream.of.apply(l.Stream,this.thenFunc).reduce((function(t,e){return e(t)}),t)},t.prototype.reject=function(t){l.Stream.of.apply(l.Stream,this.catchFuncs).reduce((function(t,e){return e(t)}),t)},t.prototype.catch=function(t){return this.catchFuncs.push(t),this},t.prototype.finally=function(t){return this.catchFuncs.push(t),this.thenFunc.push(t),this},t.prototype.then=function(t){return this.thenFunc.push(t),this},t.prototype.registerXhrCallbacks=function(t,e){var n=this,r=this.xhrObject;r.onabort=function(){n.onAbort(t,e)},r.ontimeout=function(){n.onTimeout(t,e)},r.onload=function(){n.onSuccess(n.xhrObject,t,e)},r.onloadend=function(){n.onDone(n.xhrObject,t,e)},r.onerror=function(r){n.onError(r,t,e)}},t.prototype.onAbort=function(t,e){e()},t.prototype.onTimeout=function(t,e){this.sendEvent(o.Const.STATE_EVT_TIMEOUT),e()},t.prototype.onSuccess=function(t,e,n){var r,i;this.sendEvent(o.Const.COMPLETE),(null===(r=null===this||void 0===this?void 0:this.xhrObject)||void 0===r?void 0:r.responseXML)?jsf.ajax.response(this.xhrObject,null!=(i=this.responseContext.value)?i:{}):this.handleMalFormedXML(e)},t.prototype.handleMalFormedXML=function(t){var e;this.stopProgress=!0;var n={type:o.Const.ERROR,status:o.Const.MALFORMEDXML,responseCode:200,responseText:null===(e=this.xhrObject)||void 0===e?void 0:e.responseText,source:{id:this.source.id.value}};try{r.Implementation.sendError(n)}finally{t(n)}},t.prototype.onDone=function(t,e,n){this.stopProgress||e(t)},t.prototype.onError=function(t,e,n){this.handleError(t),n()},t.prototype.sendEvent=function(t){var e=a.EventData.createFromRequest(this.xhrObject,this.requestContext,t);try{var n=this.resolveHandlerFunc(o.Const.ON_EVENT);r.Implementation.sendEvent(e,n)}catch(t){throw this.handleError(t),t}},t.prototype.handleError=function(t){var e=s.ErrorData.fromClient(t),n=this.resolveHandlerFunc(o.Const.ON_ERROR);r.Implementation.sendError(e,n)},t.prototype.resolveHandlerFunc=function(t){return this.responseContext.getIf(t).orElse(this.requestContext.getIf(t).value).orElse(o.Const.EMPTY_FUNC).value},t.prototype.resolveTargetUrl=function(t){return void 0===t.elements[o.Const.ENCODED_URL]?t.action:t.elements[o.Const.ENCODED_URL].value},t.prototype.sendRequest=function(t){var e=this.ajaxType!=o.Const.REQ_TYPE_GET;t.isMultipartRequest?this.xhrObject.send(e?t.toFormData():null):this.xhrObject.send(e?t.toString():null)},t.prototype.resolveFinalUrl=function(t){return this.resolveTargetUrl(this.sourceForm.getAsElem(0).value)+(this.ajaxType==o.Const.REQ_TYPE_GET?"?"+t.toString():"")},t}();e.XhrRequest=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.runnableQueue=[]}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this.runnableQueue.length},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t,e){var n=this;void 0===e&&(e=0),this.delayTimeout&&(clearTimeout(this.delayTimeout),this.delayTimeout=null),e?this.delayTimeout=setTimeout((function(){n.appendElement(t)})):this.appendElement(t)},t.prototype.dequeue=function(){return this.runnableQueue.shift()},t.prototype.cleanup=function(){this.currentlyRunning=null,this.runnableQueue.length=0},t.prototype.appendElement=function(t){this.runnableQueue.push(t),this.currentlyRunning||this.runEntry()},t.prototype.runEntry=function(){var t=this;this.isEmpty?this.currentlyRunning=null:(this.currentlyRunning=this.dequeue(),this.currentlyRunning.catch((function(e){throw t.cleanup(),e})).then((function(){return t.callForNextElementToProcess()})).start())},t.prototype.cancel=function(){try{this.currentlyRunning&&this.currentlyRunning.cancel()}finally{this.cleanup()}},t.prototype.callForNextElementToProcess=function(){this.runEntry()},t.prototype.processNextElement=function(){this.currentlyRunning=null,this.isEmpty||this.runEntry()},t.EVT_NEXT="__mf_queue_next__",t}();e.AsynchronouseQueue=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),s=n(0),a=n(2),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e,"windowId",{get:function(){return new e(document.body).windowId},enumerable:!0,configurable:!0}),Object.defineProperty(e,"nonce",{get:function(){return new e(document.body).nonce},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"windowId",{get:function(){var t=function(){var t=window.location.href,e=new RegExp("[\\?&]windowId=([^&#\\;]*)").exec(t);return null!=e?e[1]:null};if(this.value.isPresent()){var e=this.querySelectorAll("form input[name='"+s.Const.P_WIN_ID+"']");if(e.length>0)throw Error("Multiple different windowIds found in document");return e.isPresent()?e.getAsElem(0).value.value:t()}return t()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonce",{get:function(){var t=new i.Config(window.myfaces).assign("config","cspMeta","nonce");if(t.value)return t.value;var e=new a.DQ(document.currentScript);if(null!=e.attr("nonce").value)return e.attr("nonce").value;var n=a.DQ.querySelectorAll("script[src], link[src]").lazyStream.filter((function(t){return null!=t.attr("nonce").value&&null!=t.attr("src")})).map((function(t){return!t.attr("src").value.match(/jsf\.js\?ln\=javax\.faces/gi)})).first();return n.isPresent()&&(t.value=a.DomQuery.byId(n.value).attr("nonce").value),t.value},enumerable:!0,configurable:!0}),e.searchJsfJsFor=function(t){return new e(document).searchJsfJsFor(t)},e.prototype.searchJsfJsFor=function(t){return a.DQ.querySelectorAll("script").lazyStream.filter((function(t){var e;return-1!=(e=t.attr("src").value,null!=e?e:"").search(/\/javax\.faces\.resource.*\/jsf\.js.*separator/)})).map((function(e){var n=e.attr("src").value.match(t);return decodeURIComponent(n[1])})).first()},e.prototype.globalEval=function(e,n){return t.prototype.globalEval.call(this,e,null!=n?n:this.nonce)},e}(a.DQ);e.ExtDomquery=u,e.ExtDQ=a.DQ},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n(0);!function(t){var e=window.location.protocol.replace("http","ws")+"//";t.sockets={},t.components={},t.clientIdsByTokens={},t.reset=function(){t.sockets={},t.components={},t.clientIdsByTokens={}},t.init=function(o,i,a,u,l,c,f,p){if(c=s(c),window.WebSocket){var h=i.substr(i.indexOf("?")+1);t.components[o]||(t.components[o]={channelToken:h,onopen:s(u),onmessage:s(l),onclose:c,behaviors:f,autoconnect:p},t.clientIdsByTokens[h]||(t.clientIdsByTokens[h]=[]),t.clientIdsByTokens[h].push(o),t.sockets[h]||(t.sockets[h]=new n(h,function(t){if(t.indexOf("://")<0){var n=window.location.hostname+":"+window.location.port;return e+n+t}return t}(i),a))),p&&r.jsf.push.open(o)}else c(-1,a)},t.open=function(e){var n,r;i(null===(r=null===(n=t.components)||void 0===n?void 0:n[e])||void 0===r?void 0:r.channelToken).open()},t.close=function(e){var n;i(null===(n=t.components)||void 0===n?void 0:n[e].channelToken).close()};var n=function(){function e(t,e,n){this.channelToken=t,this.url=e,this.channel=n,this.reconnectAttempts=0}return e.prototype.open=function(){this.socket&&1==this.socket.readyState||(this.socket=new WebSocket(this.url),this.bindCallbacks())},e.prototype.onopen=function(e){if(!this.reconnectAttempts)for(var n=t.clientIdsByTokens[this.channelToken],r=n.length-1;r>=0;r--){var o=n[r];t.components[o].onopen(this.channel)}this.reconnectAttempts=0},e.prototype.onmmessage=function(e){for(var n=JSON.parse(e.data),r=t.clientIdsByTokens[this.channelToken].length-1;r>=0;r--){var o=t.clientIdsByTokens[this.channelToken][r];if(document.getElementById(o)){try{t.components[o].onmessage(n,this.channel,e)}catch(t){}var i=t.components[o].behaviors[n];if(i&&i.length)for(var s=0;s<i.length;s++)try{i[s](null)}catch(t){}}else t.clientIdsByTokens[this.channelToken].splice(r,1)}0==t.clientIdsByTokens[this.channelToken].length&&this.close()},e.prototype.onclose=function(e){var n;if(!this.socket||1e3==e.code&&e.reason==o.Const.REASON_EXPIRED||1008==e.code||!this.reconnectAttempts||this.reconnectAttempts>=o.Const.MAX_RECONNECT_ATTEMPTS)for(var r=t.clientIdsByTokens[this.channelToken],i=r.length-1;i>=0;i--){var s=r[i];t.components[s].onclose(null===(n=e)||void 0===n?void 0:n.code,null===this||void 0===this?void 0:this.channel,e)}else setTimeout(this.open,o.Const.RECONNECT_INTERVAL*this.reconnectAttempts++)},e.prototype.close=function(){if(this.socket){var t=this.socket;this.socket=null,t.close()}},e.prototype.bindCallbacks=function(){var t=this;this.socket.onopen=function(e){return t.onopen(e)},this.socket.onmessage=function(e){return t.onmmessage(e)},this.socket.onclose=function(e){return t.onclose(e)}},e}();function i(e){var n=t.sockets[e];if(n)return n;throw new Error("Unknown channelToken: "+e)}function s(t){return void 0===t&&(t=function(){}),"function"!=typeof t&&(t=window[t]),t}}(e.PushImpl||(e.PushImpl={}))}]));
//# sourceMappingURL=jsf.js.map